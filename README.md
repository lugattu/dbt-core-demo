# ğŸ§± DBT Project Workflow

This repository contains a **dbt (Data Build Tool)** project designed to transform, clean, and model raw data into analytics-ready tables in **BigQuery**.

---

## ğŸš€ Getting Started

From your terminal, inside the dbt project folder, run:

```bash
dbt run
```

This command builds the **default staging and mart models**, which can then be visualized directly in **BigQuery**.

---

## ğŸ—ï¸ Project Structure

Below is the folder layout for this dbt project:

```
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ marts/
â”‚   â”‚   â”œâ”€â”€ marts.yml
â”‚   â”‚   â”œâ”€â”€ orders_lines.sql
â”‚   â”‚   â”œâ”€â”€ order_segmentation.sql
â”‚   â”‚   â””â”€â”€ orders_product_qty.sql
â”‚   â”‚
â”‚   â””â”€â”€ staging/
â”‚       â”œâ”€â”€ orders.sql
â”‚       â”œâ”€â”€ sales.sql
â”‚       â””â”€â”€ src_orders_sales.yml
â”‚
â”œâ”€â”€ target/
â”‚   â”œâ”€â”€ compiled/
â”‚   â”‚   â””â”€â”€ data_transformation/
â”‚   â””â”€â”€ run/
â”‚       â””â”€â”€ data_transformation/
â”‚
â””â”€â”€ dbt_project.yml
```

**Folder Summary:**

* `models/staging/` â†’ Cleans and standardizes raw source data.
* `models/marts/` â†’ Builds analytical, reporting-ready tables (facts & dimensions).
* `target/` â†’ Auto-generated by dbt after each run, containing compiled SQL and execution artifacts.

---

## ğŸ—‚ï¸ Staging Layer (`models/staging/`)

The **staging layer** acts as the **intermediate â€œclean-upâ€ layer** between raw data and analytical (mart) models.
It ensures that data downstream is **consistent, clean, and reliable**.

### Key Components

* **`src_orders_sales.yml`** â€” Defines raw data sources and metadata.
* **`orders.sql`** & **`sales.sql`** â€” Transform and standardize raw tables.

### Tasks in the Staging Layer

âœ… Clean and standardize column names
âœ… Convert data types (e.g., strings â†’ dates)
âœ… Filter out junk or test data
âœ… Create consistent, readable field names

> ğŸ’¡ When you run `dbt run`, dbt automatically executes all SQL models in `models/`, materializing them in BigQuery.

ğŸ§© *This staging layer serves as the foundation for all higher-level analytics models.*

---

## ğŸ¥‡ Gold / Mart Layer (`models/marts/`)

The **Gold Layer** (also known as the **Mart Layer**) transforms the standardized data from staging into **fact and dimension tables** optimized for reporting and dashboards.

### Main Models

1. **`orders_lines.sql`** â€” Combines order-level and sales-line data for KPI tracking (e.g., total sales, products, and quantities per order).
2. **`orders_product_qty.sql`** â€” Aggregates product quantities sold per order.
3. **`order_segmentation.sql`** â€” Segments 2023 customers into **New**, **Returning**, or **VIP** categories based on purchase history.
4. **`marts.yml`** â€” Documents the mart models and column-level metadata.

---

## ğŸ“˜ Documentation

Documenting your models and fields in `.yml` files ensures **clarity and consistency** â€” BigQuery automatically inherits these descriptions.

### To Generate and View Documentation

```bash
dbt docs generate
dbt docs serve
```

This will launch an interactive documentation site in your browser, showing:

* Model lineage graphs
* Source and model descriptions
* Column-level metadata

---

## âš™ï¸ Running and Validating Models

To execute the entire data pipeline â€” from staging transformations to gold-layer models:

```bash
dbt run
```

Once completed, all models will be materialized in **BigQuery**, ready for analytics, exploration, or dashboard use.

---

## ğŸ§© Summary

| Layer           | Description                                      | Purpose                                  |
| --------------- | ------------------------------------------------ | ---------------------------------------- |
| **Staging**     | Cleans and standardizes raw data                 | Creates consistent, reliable base tables |
| **Gold / Mart** | Builds analytics-ready fact and dimension tables | Enables KPI and dashboard reporting      |

---

## ğŸ§° Tech Stack

* **dbt Core**
* **BigQuery**
* **SQL**
* **YAML**

## ğŸ§‘â€ğŸ’» Contributing

1. Clone the repo
2. Create a new branch for your feature or fix
3. Add or update models and `.yml` documentation
4. Run `dbt run` and `dbt test` to validate your changes
5. Submit a pull request ğŸ‰